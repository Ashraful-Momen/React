
---

# -------------------------------------------

# **** React useContext Hook ****

# -------------------------------------------

## ğŸ¯ **Purpose:**

To **share data** (state, functions, theme, user info, etc.)
across **multiple components** without passing props manually (no prop drilling ğŸ‘‡).

---

## âš™ï¸ **ASCII Flow (Data Flow Diagram)**

```
        [App Component]
              â†“
     createContext() â†’ Data Storage

              â†“
       <MyContext.Provider value={data}>
              â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Child Components Tree   â”‚
     â”‚  â†“         â†“          â†“   â”‚
     â”‚ useContext(MyContext)     â”‚  <---- Access shared data directly
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§  **Key Points:**

1. `useContext()` gives you **direct access** to the context value.
   No need to pass props down manually.

2. Works with:

   ```js
   const MyContext = React.createContext();
   ```

   This creates a **Context Object**.

3. Use a **Provider** to wrap your components:

   ```js
   <MyContext.Provider value={sharedData}> ... </MyContext.Provider>
   ```

4. Any child can use:

   ```js
   const data = useContext(MyContext);
   ```

5. Great for:

   * Global State
   * Auth user info
   * Theme (light/dark)
   * Multi-component communication

---

# -------------------------------------------

# **** Example 1: Basic Context Example ****

# -------------------------------------------

## 1ï¸âƒ£ Create the Context

```js
import { createContext } from "react";

// create a new context
export const UserContext = createContext();
```

---

## 2ï¸âƒ£ Provide the Context (Parent Component)

```jsx
import React, { useState } from "react";
import { UserContext } from "./UserContext";
import Child from "./Child";

const App = () => {
  const [user, setUser] = useState({ name: "Ashraful", role: "DevOps" });

  return (
    // wrap inside provider and pass value
    <UserContext.Provider value={user}>
      <h2>App Component</h2>
      <Child />
    </UserContext.Provider>
  );
};

export default App;
```

---

## 3ï¸âƒ£ Consume the Context (Child Component)

```jsx
import React, { useContext } from "react";
import { UserContext } from "./UserContext";

const Child = () => {
  // get data from context
  const user = useContext(UserContext);

  return (
    <div>
      <h3>Child Component</h3>
      <p>User: {user.name}</p>
      <p>Role: {user.role}</p>
    </div>
  );
};

export default Child;
```

---

# -------------------------------------------

# **** Step-by-Step Flow Summary ****

# -------------------------------------------

### ğŸ§© When App runs:

1. Context is created using `createContext()`
2. App provides value using `<UserContext.Provider value={user}>`
3. Child component uses `useContext(UserContext)`
4. Data flows directly â†’ no need for props

---

### ğŸ§  Memory View:

```
UserContext = { name: "Ashraful", role: "DevOps" }

App.jsx
 â”œâ”€â”€ <UserContext.Provider value={UserContext}>
 â”‚       â”œâ”€â”€ <Child />  --> useContext(UserContext) => get data
 â”‚       â”œâ”€â”€ <AnotherChild /> --> can also access same data
 â”‚       â””â”€â”€ ...
```

---

# -------------------------------------------

# **** Example 2: useContext + useReducer ****

# -------------------------------------------

ğŸ‘‰ Combine both for global state management (like Redux).

```jsx
import React, { useReducer, useContext, createContext } from "react";

// 1ï¸âƒ£ Create context
const BookContext = createContext();

// 2ï¸âƒ£ Reducer function
const reducer = (state, action) => {
  if (action.type === "ADD") {
    return [...state, action.payload];
  }
  return state;
};

// 3ï¸âƒ£ Provider Component
const BookProvider = ({ children }) => {
  const [books, dispatch] = useReducer(reducer, []);

  return (
    <BookContext.Provider value={{ books, dispatch }}>
      {children}
    </BookContext.Provider>
  );
};

// 4ï¸âƒ£ Child component: access global books
const BookList = () => {
  const { books, dispatch } = useContext(BookContext);

  const addBook = () => {
    dispatch({ type: "ADD", payload: { id: Date.now(), name: "New Book" } });
  };

  return (
    <>
      <button onClick={addBook}>Add Book</button>
      {books.map((b) => (
        <li key={b.id}>{b.name}</li>
      ))}
    </>
  );
};

// 5ï¸âƒ£ App root
const App = () => (
  <BookProvider>
    <BookList />
  </BookProvider>
);

export default App;
```

---

# -------------------------------------------

# **** Quick Summary (Short Notes) ****

# -------------------------------------------

âœ… `createContext()` â†’ Create the global container.
âœ… `Provider` â†’ Supply the data to all children.
âœ… `useContext()` â†’ Consume data without prop drilling.
âœ… Combine with `useReducer` â†’ build your own mini Redux.

---

Would you like me to give the **folder structure (Context + Provider + Consumer)** version next â€” just like you did for `useReducer` (Main Part 2 style)?
