
---

# -------------------------------------------

# **** React useContext Hook ****

# -------------------------------------------

## 🎯 **Purpose:**

To **share data** (state, functions, theme, user info, etc.)
across **multiple components** without passing props manually (no prop drilling 👇).

---

## ⚙️ **ASCII Flow (Data Flow Diagram)**

```
        [App Component]
              ↓
     createContext() → Data Storage

              ↓
       <MyContext.Provider value={data}>
              ↓
     ┌───────────────────────────┐
     │   Child Components Tree   │
     │  ↓         ↓          ↓   │
     │ useContext(MyContext)     │  <---- Access shared data directly
     └───────────────────────────┘
```

---

## 🧠 **Key Points:**

1. `useContext()` gives you **direct access** to the context value.
   No need to pass props down manually.

2. Works with:

   ```js
   const MyContext = React.createContext();
   ```

   This creates a **Context Object**.

3. Use a **Provider** to wrap your components:

   ```js
   <MyContext.Provider value={sharedData}> ... </MyContext.Provider>
   ```

4. Any child can use:

   ```js
   const data = useContext(MyContext);
   ```

5. Great for:

   * Global State
   * Auth user info
   * Theme (light/dark)
   * Multi-component communication

---

# -------------------------------------------

# **** Example 1: Basic Context Example ****

# -------------------------------------------

## 1️⃣ Create the Context

```js
import { createContext } from "react";

// create a new context
export const UserContext = createContext();
```

---

## 2️⃣ Provide the Context (Parent Component)

```jsx
import React, { useState } from "react";
import { UserContext } from "./UserContext";
import Child from "./Child";

const App = () => {
  const [user, setUser] = useState({ name: "Ashraful", role: "DevOps" });

  return (
    // wrap inside provider and pass value
    <UserContext.Provider value={user}>
      <h2>App Component</h2>
      <Child />
    </UserContext.Provider>
  );
};

export default App;
```

---

## 3️⃣ Consume the Context (Child Component)

```jsx
import React, { useContext } from "react";
import { UserContext } from "./UserContext";

const Child = () => {
  // get data from context
  const user = useContext(UserContext);

  return (
    <div>
      <h3>Child Component</h3>
      <p>User: {user.name}</p>
      <p>Role: {user.role}</p>
    </div>
  );
};

export default Child;
```

---

# -------------------------------------------

# **** Step-by-Step Flow Summary ****

# -------------------------------------------

### 🧩 When App runs:

1. Context is created using `createContext()`
2. App provides value using `<UserContext.Provider value={user}>`
3. Child component uses `useContext(UserContext)`
4. Data flows directly → no need for props

---

### 🧠 Memory View:

```
UserContext = { name: "Ashraful", role: "DevOps" }

App.jsx
 ├── <UserContext.Provider value={UserContext}>
 │       ├── <Child />  --> useContext(UserContext) => get data
 │       ├── <AnotherChild /> --> can also access same data
 │       └── ...
```

---

# -------------------------------------------

# **** Example 2: useContext + useReducer ****

# -------------------------------------------

👉 Combine both for global state management (like Redux).

```jsx
import React, { useReducer, useContext, createContext } from "react";

// 1️⃣ Create context
const BookContext = createContext();

// 2️⃣ Reducer function
const reducer = (state, action) => {
  if (action.type === "ADD") {
    return [...state, action.payload];
  }
  return state;
};

// 3️⃣ Provider Component
const BookProvider = ({ children }) => {
  const [books, dispatch] = useReducer(reducer, []);

  return (
    <BookContext.Provider value={{ books, dispatch }}>
      {children}
    </BookContext.Provider>
  );
};

// 4️⃣ Child component: access global books
const BookList = () => {
  const { books, dispatch } = useContext(BookContext);

  const addBook = () => {
    dispatch({ type: "ADD", payload: { id: Date.now(), name: "New Book" } });
  };

  return (
    <>
      <button onClick={addBook}>Add Book</button>
      {books.map((b) => (
        <li key={b.id}>{b.name}</li>
      ))}
    </>
  );
};

// 5️⃣ App root
const App = () => (
  <BookProvider>
    <BookList />
  </BookProvider>
);

export default App;
```

---

# -------------------------------------------

# **** Quick Summary (Short Notes) ****

# -------------------------------------------

✅ `createContext()` → Create the global container.
✅ `Provider` → Supply the data to all children.
✅ `useContext()` → Consume data without prop drilling.
✅ Combine with `useReducer` → build your own mini Redux.

---

Would you like me to give the **folder structure (Context + Provider + Consumer)** version next — just like you did for `useReducer` (Main Part 2 style)?
