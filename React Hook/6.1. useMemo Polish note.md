
---

# -------------------------------------------

# **** React useMemo Hook ****

# -------------------------------------------

## 🎯 **Purpose:**

To **optimize performance** by **memoizing (caching)** the result of an expensive calculation.
It only re-computes when its **dependency variable** changes.

---

## ⚙️ **ASCII Flow**

```
Render → check dependency
   ↓
If dependency same → use cached value ✅
If dependency changed → re-calculate ❌
```

---

## 🧠 **Key Points:**

1. `useMemo()` stores the **result** of a function.
   (not the function itself — that’s for `useCallback`)

2. Syntax:

   ```js
   const memoValue = useMemo(() => {
       // expensive calculation
       return result;
   }, [dependency]);
   ```

3. It runs only when any dependency changes.

4. Best used for:

   * Expensive calculations
   * Filtering / sorting large data
   * Preventing unnecessary re-renders

---

# -------------------------------------------

# **** Example: useMemo() ****

# -------------------------------------------

```jsx
import React, { useState, useMemo } from "react";

const UseMemoExample = () => {
  const [number, setNumber] = useState(0);
  const [toggle, setToggle] = useState(false);

  console.log("App rendering...");

  // 🧩 Expensive calculation
  const squaredNumber = useMemo(() => {
    console.log("Calculating square...");
    return number * number;
  }, [number]); // only re-run when 'number' changes

  return (
    <>
      <h2>useMemo Example</h2>

      <input
        type="number"
        value={number}
        onChange={(e) => setNumber(Number(e.target.value))}
      />

      <p>Squared Value: {squaredNumber}</p>

      <button onClick={() => setToggle(!toggle)}>
        {toggle ? "ON" : "OFF"}
      </button>
    </>
  );
};

export default UseMemoExample;
```

---

## 🧩 **Flow Summary:**

1. On every render → React checks dependency `[number]`.
2. If **number** changes → re-run the calculation.
3. If only **toggle** changes → return **cached result**.
4. Improves performance by skipping re-computation.

---

# -------------------------------------------

# **** Quick Summary ****

# -------------------------------------------

✅ `useMemo()` → caches **calculation result**.
✅ Recomputes only when dependencies change.
✅ Prevents slow operations from re-running.
✅ For caching **values** → useMemo
✅ For caching **functions** → useCallback

---
